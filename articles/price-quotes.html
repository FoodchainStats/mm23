<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>CPI Price Quotes • mm23</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="CPI Price Quotes">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mm23</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/mm23.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/contribution.html">Calculating contribution to annual rate</a></li>
    <li><a class="dropdown-item" href="../articles/price-quotes.html">CPI Price Quotes</a></li>
    <li><a class="dropdown-item" href="../articles/prices.html">ONS Shopping Price Tool data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/FoodchainStats/mm23/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>CPI Price Quotes</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/FoodchainStats/mm23/blob/main/vignettes/articles/price-quotes.Rmd" class="external-link"><code>vignettes/articles/price-quotes.Rmd</code></a></small>
      <div class="d-none name"><code>price-quotes.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The price quote functions will generally access and download the
price quote data, but changes to the variables over the years and the
nature of the data means that you’ll probably have to do some wrangling
to get what you need - assuming what you’re interested in is the average
retail price of stuff. The relevant functions are:</p>
<ul>
<li>
<code><a href="../reference/get_cpi_price_quotes.html">get_cpi_price_quotes()</a></code> for data from 2020 onwards,
and</li>
<li>
<code><a href="../reference/get_cpi_price_quotes_archive.html">get_cpi_price_quotes_archive()</a></code> for data from
2010-2019</li>
</ul>
<p>The data is accessed from the url stored in
<code><a href="../reference/cpi_price_quotes_url.html">cpi_price_quotes_url()</a></code>. The addresses of data 2010-2019 are
stored in <code><a href="../reference/archive_urls.html">archive_urls()</a></code>.</p>
<p>The data is returned as is - in order to look at prices we need to
exclude invalid records - pre February 2025 this is ones with a
<code>validity</code> not 3 or 4, post February 2025 `validity is
FALSE.</p>
</div>
<div class="section level2">
<h2 id="sample-code">Sample code<a class="anchor" aria-label="anchor" href="#sample-code"></a>
</h2>
<div class="section level4">
<h4 id="historic-data">Historic data<a class="anchor" aria-label="anchor" href="#historic-data"></a>
</h4>
<p>Lets look at some old bread prices.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">2013</span><span class="op">:</span><span class="fl">2014</span></span>
<span></span>
<span><span class="va">bread</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">y</span>, \<span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/get_cpi_price_quotes_archive.html">get_cpi_price_quotes_archive</a></span><span class="op">(</span><span class="va">y</span>, foodonly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">item_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">210102</span>, <span class="fl">210111</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Acquiring pricequote2013.zip</span></span>
<span><span class="co">#&gt; Reading price_quote_2013_q1.csv</span></span>
<span><span class="co">#&gt; Reading price_quote_2013_q2.csv</span></span>
<span><span class="co">#&gt; Reading price_quote_2013_q3.csv</span></span>
<span><span class="co">#&gt; Reading price_quote_2013_q4.csv</span></span>
<span><span class="co">#&gt; Acquiring pricequote2014.zip</span></span>
<span><span class="co">#&gt; Reading price_quote_2014_q1.csv</span></span>
<span><span class="co">#&gt; Reading price_quote_2014_q2.csv</span></span>
<span><span class="co">#&gt; Reading price_quote_2014_q3.csv</span></span>
<span><span class="co">#&gt; Reading price_quote_2014_q4.csv</span></span>
<span></span>
<span><span class="va">bread</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">validity</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="va">quote_date</span><span class="op">)</span>, <span class="va">item_desc</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>avg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">price</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; `summarise()` has grouped output by 'lubridate::year(quote_date)'. You can</span></span>
<span><span class="co">#&gt; override using the `.groups` argument.</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">lubridate::year(quote_date)</th>
<th align="left">item_desc</th>
<th align="right">avg</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">2013</td>
<td align="left">LARGE LOAF-WHITE-UNSLICED-800G</td>
<td align="right">1.396095</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="left">WHITE SLICED LOAF BRANDED 750G</td>
<td align="right">1.249862</td>
</tr>
<tr class="odd">
<td align="right">2013</td>
<td align="left">WHITE SLICED LOAF BRANDED 800G</td>
<td align="right">1.240884</td>
</tr>
<tr class="even">
<td align="right">2014</td>
<td align="left">LARGE LOAF-WHITE-UNSLICED-800G</td>
<td align="right">1.370320</td>
</tr>
<tr class="odd">
<td align="right">2014</td>
<td align="left">WHITE SLICED LOAF BRANDED 800G</td>
<td align="right">1.187626</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="recent-data">Recent data<a class="anchor" aria-label="anchor" href="#recent-data"></a>
</h3>
<p>We can compare with some more recent data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># If you want to get more than 1 year you can do eg rep(2024:2025, 12) and</span></span>
<span><span class="co"># rep(1:12, 2). But you don't necessarily need purrr::map2</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2024</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span></span>
<span></span>
<span><span class="va">more_bread</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map2.html" class="external-link">map2</a></span><span class="op">(</span><span class="va">y</span>, <span class="va">m</span>, \<span class="op">(</span><span class="va">y</span>,<span class="va">m</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/get_cpi_price_quotes.html">get_cpi_price_quotes</a></span><span class="op">(</span><span class="va">y</span>, <span class="va">m</span>, foodonly <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">item_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">210102</span>, <span class="fl">210111</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading  2024 1</span></span>
<span><span class="co">#&gt; Reading  2024 2</span></span>
<span><span class="co">#&gt; Reading  2024 3</span></span>
<span><span class="co">#&gt; Reading  2024 4</span></span>
<span><span class="co">#&gt; Reading  2024 5</span></span>
<span><span class="co">#&gt; Reading  2024 6</span></span>
<span><span class="co">#&gt; Reading  2024 7</span></span>
<span><span class="co">#&gt; Reading  2024 8</span></span>
<span><span class="co">#&gt; Reading  2024 9</span></span>
<span><span class="co">#&gt; Reading  2024 10</span></span>
<span><span class="co">#&gt; Reading  2024 11</span></span>
<span><span class="co">#&gt; Reading  2024 12</span></span>
<span></span>
<span><span class="va">more_bread</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">validity</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">quote_date</span>, <span class="va">item_desc</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>avg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">price</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">quote_date</span>, y <span class="op">=</span> <span class="va">avg</span>, colour <span class="op">=</span> <span class="va">item_desc</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; `summarise()` has grouped output by 'quote_date'. You can override using the</span></span>
<span><span class="co">#&gt; `.groups` argument.</span></span></code></pre></div>
<p><img src="price-quotes_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>The validity variable changed in Feb 2025:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Doing the same as more_bread, but without purrr::map2</span></span>
<span><span class="va">latest_bread</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_cpi_price_quotes.html">get_cpi_price_quotes</a></span><span class="op">(</span><span class="fl">2025</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, foodonly <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">item_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">210102</span>, <span class="fl">210111</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>valid <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="va">quote_date</span> <span class="op">&lt;=</span> <span class="st">"2025-01-01"</span> <span class="op">&amp;</span> <span class="va">validity</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Y"</span>,</span>
<span>                                  <span class="va">quote_date</span> <span class="op">&gt;=</span> <span class="st">"2025-02-01"</span> <span class="op">&amp;</span> <span class="va">validity</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"Y"</span>,</span>
<span>                                  .default <span class="op">=</span> <span class="st">"N"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading  2025 1</span></span>
<span><span class="co">#&gt; Reading  2025 2</span></span>
<span><span class="co">#&gt; Reading  2025 3</span></span>
<span><span class="co">#&gt; Reading  2025 4</span></span>
<span></span>
<span><span class="va">latest_bread</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">valid</span> <span class="op">==</span> <span class="st">"Y"</span>, <span class="va">quote_date</span> <span class="op">&gt;=</span> <span class="st">"2013-01-01"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">quote_date</span>, <span class="va">item_desc</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>avg_price <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">price</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; `summarise()` has grouped output by 'quote_date'. You can override using the</span></span>
<span><span class="co">#&gt; `.groups` argument.</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">quote_date</th>
<th align="left">item_desc</th>
<th align="right">avg_price</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2025-01-01</td>
<td align="left">LGE LOAF-WHTE-UNSLED-750-800G</td>
<td align="right">1.721831</td>
</tr>
<tr class="even">
<td align="left">2025-01-01</td>
<td align="left">WHITE SLICED LOAF BRANDED 750G</td>
<td align="right">1.304189</td>
</tr>
<tr class="odd">
<td align="left">2025-02-01</td>
<td align="left">LGE LOAF-WHTE-UNSLED-750-800G</td>
<td align="right">1.716102</td>
</tr>
<tr class="even">
<td align="left">2025-02-01</td>
<td align="left">WHITE SLICED LOAF BRANDED 750G</td>
<td align="right">1.324653</td>
</tr>
<tr class="odd">
<td align="left">2025-03-01</td>
<td align="left">LGE LOAF-WHTE-UNSLED-750-800G</td>
<td align="right">1.747910</td>
</tr>
<tr class="even">
<td align="left">2025-03-01</td>
<td align="left">WHITE SLICED LOAF BRANDED 750G</td>
<td align="right">1.314762</td>
</tr>
<tr class="odd">
<td align="left">2025-04-01</td>
<td align="left">LGE LOAF-WHTE-UNSLED-750-800G</td>
<td align="right">1.768971</td>
</tr>
<tr class="even">
<td align="left">2025-04-01</td>
<td align="left">WHITE SLICED LOAF BRANDED 750G</td>
<td align="right">1.314459</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="sample-data">Sample data<a class="anchor" aria-label="anchor" href="#sample-data"></a>
</h2>
<div class="section level3">
<h3 id="latest-post-jan-2025-data">Latest (post Jan 2025) data<a class="anchor" aria-label="anchor" href="#latest-post-jan-2025-data"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">mm23</span><span class="fu">::</span><span class="fu"><a href="../reference/get_cpi_price_quotes.html">get_cpi_price_quotes</a></span><span class="op">(</span><span class="fl">2025</span>, <span class="fl">3</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_sample</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading  2025 3</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="5%">
<col width="35%">
<col width="20%">
<col width="15%">
<col width="11%">
<col width="11%">
</colgroup>
<tbody>
<tr class="odd">
<td align="left">cs_id</td>
<td align="left">CP0119101</td>
<td align="left">CP0116201</td>
<td align="left">CP0112202</td>
<td align="left">CP0118101</td>
<td align="left">CP0112303</td>
</tr>
<tr class="even">
<td align="left">cs_desc</td>
<td align="left">PRE-COOKED DISHES BASED ON MEAT, FISH, VEGETABLES,
PASTA OR OTHER CEREALS, CHILLED OR FROZEN</td>
<td align="left">ORANGES, TANGERINES AND SIMILAR CITRUS FRUITS,
FRESH</td>
<td align="left">MEAT OF PIGS, FRESH, CHILLED OR FROZEN</td>
<td align="left">SUGAR</td>
<td align="left">PORK, DRIED, SALTED OR SMOKED</td>
</tr>
<tr class="odd">
<td align="left">quote_date</td>
<td align="left">2025-03-01</td>
<td align="left">2025-03-01</td>
<td align="left">2025-03-01</td>
<td align="left">2025-03-01</td>
<td align="left">2025-03-01</td>
</tr>
<tr class="even">
<td align="left">item_id</td>
<td align="left">212918</td>
<td align="left">212725</td>
<td align="left">210707</td>
<td align="left">212101</td>
<td align="left">210808</td>
</tr>
<tr class="odd">
<td align="left">item_desc</td>
<td align="left">FRZN READY-COOKD MEAL SERVES 1</td>
<td align="left">SMALL TYPE ORANGES PER PACK/KG</td>
<td align="left">HOME KILLED PORK CHOP/STEAK</td>
<td align="left">SUGAR -GRANULATED-WHITE-PER KG</td>
<td align="left">BACON-BACK-PER KG</td>
</tr>
<tr class="even">
<td align="left">validity</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">shop_code</td>
<td align="left">9808</td>
<td align="left">807</td>
<td align="left">46</td>
<td align="left">2</td>
<td align="left">60</td>
</tr>
<tr class="even">
<td align="left">price</td>
<td align="left">0.00</td>
<td align="left">2.50</td>
<td align="left">16.65</td>
<td align="left">1.09</td>
<td align="left">10.76</td>
</tr>
<tr class="odd">
<td align="left">indicator_box</td>
<td align="left">M</td>
<td align="left">Q</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">region</td>
<td align="left">13</td>
<td align="left">9</td>
<td align="left">12</td>
<td align="left">3</td>
<td align="left">6</td>
</tr>
<tr class="odd">
<td align="left">shop_type</td>
<td align="left">3</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">3</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">shop_weight</td>
<td align="left">1</td>
<td align="left">7</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="pre-feb-2025-data">Pre Feb 2025 data<a class="anchor" aria-label="anchor" href="#pre-feb-2025-data"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">mm23</span><span class="fu">::</span><span class="fu"><a href="../reference/get_cpi_price_quotes.html">get_cpi_price_quotes</a></span><span class="op">(</span><span class="fl">2021</span>, <span class="fl">6</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_sample</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading  2021 6</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="20%">
<col width="22%">
<col width="17%">
<col width="20%">
<col width="8%">
</colgroup>
<tbody>
<tr class="odd">
<td align="left">cs_id</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">cs_desc</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">quote_date</td>
<td align="left">2021-06-01</td>
<td align="left">2021-06-01</td>
<td align="left">2021-06-01</td>
<td align="left">2021-06-01</td>
<td align="left">2021-06-01</td>
</tr>
<tr class="even">
<td align="left">item_id</td>
<td align="left">211808</td>
<td align="left">210403</td>
<td align="left">220326</td>
<td align="left">211808</td>
<td align="left">310316</td>
</tr>
<tr class="odd">
<td align="left">item_desc</td>
<td align="left">CHILLED POT DESSERT 125-200G</td>
<td align="left">HOME KILLED BEEF-LEAN MINCE KG</td>
<td align="left">TAKEAWAY CHICKEN &amp; CHIPS</td>
<td align="left">CHILLED POT DESSERT 125-200G</td>
<td align="left">GIN PER NIP</td>
</tr>
<tr class="even">
<td align="left">validity</td>
<td align="left">3</td>
<td align="left">3</td>
<td align="left">3</td>
<td align="left">1</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">shop_code</td>
<td align="left">814</td>
<td align="left">814</td>
<td align="left">59</td>
<td align="left">941</td>
<td align="left">70</td>
</tr>
<tr class="even">
<td align="left">price</td>
<td align="left">1.85</td>
<td align="left">6.50</td>
<td align="left">5.80</td>
<td align="left">0.00</td>
<td align="left">4.50</td>
</tr>
<tr class="odd">
<td align="left">indicator_box</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">T</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">region</td>
<td align="left">9</td>
<td align="left">11</td>
<td align="left">3</td>
<td align="left">10</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">shop_type</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">shop_weight</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="raw-data-formats">Raw data formats<a class="anchor" aria-label="anchor" href="#raw-data-formats"></a>
</h2>
<div class="section level3">
<h3 id="raw-data-format-feb-2025-onwards">Raw data format (Feb 2025 onwards)<a class="anchor" aria-label="anchor" href="#raw-data-format-feb-2025-onwards"></a>
</h3>
<table class="table">
<colgroup>
<col width="14%">
<col width="85%">
</colgroup>
<thead><tr class="header">
<th>COLUMN HEADING</th>
<th>DESCRIPTION</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>QUOTE_DATE</td>
<td>The year and month in which the individual price observation was
collected.</td>
</tr>
<tr class="even">
<td>CS_ID</td>
<td>Unique identification number of the Consumption Segment or Item
collected. Value is equal to ITEM_ID if no CS alternative is
available.</td>
</tr>
<tr class="odd">
<td>CS_DESC</td>
<td>Description of the Consumption Segment or Item collected.</td>
</tr>
<tr class="even">
<td>ITEM_ID</td>
<td>Unique identification number of the Item collected.</td>
</tr>
<tr class="odd">
<td>ITEM_DESC</td>
<td>Description of the Item collected.</td>
</tr>
<tr class="even">
<td>VALIDITY</td>
<td>The status of the individual price quote:</td>
</tr>
<tr class="odd">
<td></td>
<td>TRUE = Quote included in the current months index.</td>
</tr>
<tr class="even">
<td></td>
<td>FALSE = Quote not included in the current months index.</td>
</tr>
<tr class="odd">
<td>SHOP_CODE</td>
<td>Shop code from which the individual price quote was obtained.</td>
</tr>
<tr class="even">
<td>PRICE</td>
<td>Observed price on date of collection (in £GBP).</td>
</tr>
<tr class="odd">
<td>INDICATOR_BOX</td>
<td>Indicator used to highlight any item or price change:</td>
</tr>
<tr class="even">
<td></td>
<td>C = Comparable – change in product being priced, new product is
similar to the previous product.</td>
</tr>
<tr class="odd">
<td></td>
<td>M = Missing – not sold at shop.</td>
</tr>
<tr class="even">
<td></td>
<td>N = Non-comparable – change in product being priced, new product is
not comparable to the previous product.</td>
</tr>
<tr class="odd">
<td></td>
<td>P = Current price unavailable for the period.</td>
</tr>
<tr class="even">
<td></td>
<td>Q = Supplementary message has been provided (the message is not
published due to ONS disclosure rules).</td>
</tr>
<tr class="odd">
<td></td>
<td>R = Recovery of price at end of sale or special offer.</td>
</tr>
<tr class="even">
<td></td>
<td>S = Sale price or special offer.</td>
</tr>
<tr class="odd">
<td></td>
<td>T = Temporarily out of stock.</td>
</tr>
<tr class="even">
<td></td>
<td>W = Size change.</td>
</tr>
<tr class="odd">
<td>PRICE_RELATIVE_CPI</td>
<td>The quote index for the individual price observation.
(PRICE/BASE_PRICE_CPI).</td>
</tr>
<tr class="even">
<td>PRICE_RELATIVE_RPI</td>
<td>The quote index for the individual price observation.
(PRICE/BASE_PRICE_RPI).</td>
</tr>
<tr class="odd">
<td>LOG_PRICE_RELATIVE_CPI</td>
<td>The natural logarithm of the individual price relative
(PRICE_RELATIVE_CPI).</td>
</tr>
<tr class="even">
<td>LOG_PRICE_RELATIVE_RPI</td>
<td>The natural logarithm of the individual price relative
(PRICE_RELATIVE_RPI).</td>
</tr>
<tr class="odd">
<td>STRATUM_WEIGHT</td>
<td>The stratum weight applicable to the item/stratum combination for
the period.</td>
</tr>
<tr class="even">
<td>STRATUM_TYPE</td>
<td>Describes the items stratification method:</td>
</tr>
<tr class="odd">
<td></td>
<td>0 = Not stratified.</td>
</tr>
<tr class="even">
<td></td>
<td>1 = Stratified by REGION.</td>
</tr>
<tr class="odd">
<td></td>
<td>2 = Stratified by REGION and SHOP_TYPE.</td>
</tr>
<tr class="even">
<td></td>
<td>3 = Stratified by SHOP_TYPE.</td>
</tr>
<tr class="odd">
<td>REGION</td>
<td>Approximation to Government Office Regions (GOR):</td>
</tr>
<tr class="even">
<td></td>
<td>1 = Catalogue collections (head office).</td>
</tr>
<tr class="odd">
<td></td>
<td>2 = London.</td>
</tr>
<tr class="even">
<td></td>
<td>3 = SE.</td>
</tr>
<tr class="odd">
<td></td>
<td>4 = SW.</td>
</tr>
<tr class="even">
<td></td>
<td>5 = East Anglia.</td>
</tr>
<tr class="odd">
<td></td>
<td>6 = East Midlands.</td>
</tr>
<tr class="even">
<td></td>
<td>7 = West Midlands.</td>
</tr>
<tr class="odd">
<td></td>
<td>8 = Yorks &amp; Humber.</td>
</tr>
<tr class="even">
<td></td>
<td>9 = NW.</td>
</tr>
<tr class="odd">
<td></td>
<td>10 = North.</td>
</tr>
<tr class="even">
<td></td>
<td>11 = Wales.</td>
</tr>
<tr class="odd">
<td></td>
<td>12 = Scotland.</td>
</tr>
<tr class="even">
<td></td>
<td>13 = Northern Ireland.</td>
</tr>
<tr class="odd">
<td>SHOP_TYPE</td>
<td>Shop type indicator:</td>
</tr>
<tr class="even">
<td></td>
<td>1 = Multiple (10 or more outlets).</td>
</tr>
<tr class="odd">
<td></td>
<td>2 = Independents (less than 10 outlets).</td>
</tr>
<tr class="even">
<td></td>
<td>3 = Item not stratified by retailer.</td>
</tr>
<tr class="odd">
<td>SHOP_WEIGHT</td>
<td>The relative weight (replication factor) for the shop/item
combination.</td>
</tr>
<tr class="even">
<td>BASE_PRICE_CPI</td>
<td>Observed or imputed base period price (CPI).</td>
</tr>
<tr class="odd">
<td>BASE_PRICE_RPI</td>
<td>Observed or imputed base period price (RPI).</td>
</tr>
<tr class="even">
<td>STRATUM_CELL</td>
<td>Stratum cell of the individual price quote. This is dependent on
STRATUM_TYPE (see above):</td>
</tr>
<tr class="odd">
<td></td>
<td>If STRATUM_TYPE = 0, STRATUM_CELL = 0</td>
</tr>
<tr class="even">
<td></td>
<td>If STRATUM_TYPE = 1, STRATUM_CELL = REGION (as derived above)</td>
</tr>
<tr class="odd">
<td></td>
<td>If STRATUM_TYPE = 3, STRATUM_CELL = SHOP_TYPE (as derived
above)</td>
</tr>
<tr class="even">
<td></td>
<td>If STRATUM_TYPE = 2 and SHOP_TYPE = 1, then STRATUM_CELL =
REGION</td>
</tr>
<tr class="odd">
<td></td>
<td>If STRATUM_TYPE = 2 and SHOP_TYPE = 2, then STRATUM_CELL = REGION
+13</td>
</tr>
<tr class="even">
<td>TEMPORAL</td>
<td>Quotes collected on the Friday before the main index day (usually
Tuesday) and excluded from the calculation of RPI.</td>
</tr>
<tr class="odd">
<td></td>
<td>TRUE = Temporal quotes</td>
</tr>
<tr class="even">
<td></td>
<td>FALSE = Non-temporal quote</td>
</tr>
<tr class="odd">
<td></td>
<td>Use VALIDITY = TRUE and TEMPORAL = FALSE to filter quotes that have
contributed to the construction of the RPI index.</td>
</tr>
<tr class="even">
<td>INDEX_ALGORITHM_RPI</td>
<td>The formula method used for RPI calculations (as set out in section
3.4 of the CPIH Technical Manual, 2019 edition):</td>
</tr>
<tr class="odd">
<td></td>
<td>1 = Dutot (RA).</td>
</tr>
<tr class="even">
<td></td>
<td>2 = Carli (AR).</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="raw-data-format-pre-feb-2025">Raw data format (Pre Feb 2025)<a class="anchor" aria-label="anchor" href="#raw-data-format-pre-feb-2025"></a>
</h3>
<table class="table">
<colgroup>
<col width="15%">
<col width="84%">
</colgroup>
<thead><tr class="header">
<th>Column Heading</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td>quote_date</td>
<td>year and month of data collection (yyyymm)</td>
</tr>
<tr class="odd">
<td>item_id</td>
<td>identification of the item collected</td>
</tr>
<tr class="even">
<td>validity</td>
<td>validity of the quote (only codes 3 and 4 used, except where
indicator_box = ‘N’)</td>
</tr>
<tr class="odd">
<td></td>
<td>3 = Validated by system</td>
</tr>
<tr class="even">
<td></td>
<td>4 = Accepted internally by ONS staff</td>
</tr>
<tr class="odd">
<td>shop_code</td>
<td>code of shop that the price was collected from</td>
</tr>
<tr class="even">
<td>price</td>
<td>price of the item collected in the quote month</td>
</tr>
<tr class="odd">
<td>indicator_box</td>
<td>indicator used to highlight any item or price change</td>
</tr>
<tr class="even">
<td></td>
<td>S = Sale</td>
</tr>
<tr class="odd">
<td></td>
<td>R = Recovery</td>
</tr>
<tr class="even">
<td></td>
<td>M = Missing</td>
</tr>
<tr class="odd">
<td></td>
<td>C = Comparable</td>
</tr>
<tr class="even">
<td></td>
<td>N = Non comparable</td>
</tr>
<tr class="odd">
<td></td>
<td>T = Temporarily out of stock</td>
</tr>
<tr class="even">
<td></td>
<td>X = Comparable item on sale</td>
</tr>
<tr class="odd">
<td></td>
<td>Z = Non comparable item on sale</td>
</tr>
<tr class="even">
<td>price_relative</td>
<td>collected price (current month) divided by base price</td>
</tr>
<tr class="odd">
<td>stratum_weight</td>
<td>the weight of the stratum that the price quote contributes to</td>
</tr>
<tr class="even">
<td>stratum_type</td>
<td>type of stratification used</td>
</tr>
<tr class="odd">
<td></td>
<td>0 = not stratified</td>
</tr>
<tr class="even">
<td></td>
<td>1 = region.</td>
</tr>
<tr class="odd">
<td></td>
<td>2 = region and shop</td>
</tr>
<tr class="even">
<td></td>
<td>3 =shop</td>
</tr>
<tr class="odd">
<td>end_date</td>
<td>where end = 999999 price contributed to index for period otherwise
price was omitted</td>
</tr>
<tr class="even">
<td>region</td>
<td>where the location is</td>
</tr>
<tr class="odd">
<td></td>
<td>1 = Catalogue collections</td>
</tr>
<tr class="even">
<td></td>
<td>2 = London</td>
</tr>
<tr class="odd">
<td></td>
<td>3 = SE</td>
</tr>
<tr class="even">
<td></td>
<td>4 = SW</td>
</tr>
<tr class="odd">
<td></td>
<td>5 = East Anglia</td>
</tr>
<tr class="even">
<td></td>
<td>6 = East Midlands</td>
</tr>
<tr class="odd">
<td></td>
<td>7 = West Midlands</td>
</tr>
<tr class="even">
<td></td>
<td>8 = Yorks &amp; Humber</td>
</tr>
<tr class="odd">
<td></td>
<td>9 = NW</td>
</tr>
<tr class="even">
<td></td>
<td>10 = North</td>
</tr>
<tr class="odd">
<td></td>
<td>11 = Wales</td>
</tr>
<tr class="even">
<td></td>
<td>12 = Scotland</td>
</tr>
<tr class="odd">
<td></td>
<td>13 = NI</td>
</tr>
<tr class="even">
<td>shop_type</td>
<td>either multiple or independents.</td>
</tr>
<tr class="odd">
<td></td>
<td>1 = Multiple (10 or more outlets)</td>
</tr>
<tr class="even">
<td></td>
<td>2 = Independents (less than 10 outlets)</td>
</tr>
<tr class="odd">
<td>shop_weight</td>
<td>estimated number of a specific supermarket within a region</td>
</tr>
<tr class="even">
<td>base_price</td>
<td>price of an item at the base date (January of that year).</td>
</tr>
<tr class="odd">
<td>base_validity</td>
<td>validity in the base month (see validity above)</td>
</tr>
<tr class="even">
<td>stratum_cell</td>
<td>type of stratification used</td>
</tr>
<tr class="odd">
<td></td>
<td>There are 3 types of stratum,</td>
</tr>
<tr class="even">
<td></td>
<td>by shop, by region and by region and shop.</td>
</tr>
<tr class="odd">
<td></td>
<td>The stratum types and cells are as follows,</td>
</tr>
<tr class="even">
<td></td>
<td>Not stratified = 0</td>
</tr>
<tr class="odd">
<td></td>
<td>By shop;</td>
</tr>
<tr class="even">
<td></td>
<td>1 = Multiple (10 or more outlets)</td>
</tr>
<tr class="odd">
<td></td>
<td>2 = Independents (less than 10 outlets)</td>
</tr>
<tr class="even">
<td></td>
<td>By region,</td>
</tr>
<tr class="odd">
<td></td>
<td>2 = London</td>
</tr>
<tr class="even">
<td></td>
<td>3 = SE</td>
</tr>
<tr class="odd">
<td></td>
<td>4 = SW</td>
</tr>
<tr class="even">
<td></td>
<td>5 = East Anglia</td>
</tr>
<tr class="odd">
<td></td>
<td>6 = East Midlands</td>
</tr>
<tr class="even">
<td></td>
<td>7 = West Midlands</td>
</tr>
<tr class="odd">
<td></td>
<td>8 = Yorks &amp; Humber</td>
</tr>
<tr class="even">
<td></td>
<td>9 = NW</td>
</tr>
<tr class="odd">
<td></td>
<td>10 = North</td>
</tr>
<tr class="even">
<td></td>
<td>11 = Wales</td>
</tr>
<tr class="odd">
<td></td>
<td>12 = Scotland</td>
</tr>
<tr class="even">
<td></td>
<td>13 = NI</td>
</tr>
<tr class="odd">
<td></td>
<td>By region and shop type,</td>
</tr>
<tr class="even">
<td></td>
<td>If the shop type is a multiple, then the stratum cell is</td>
</tr>
<tr class="odd">
<td></td>
<td>equal to the regional stratum code.</td>
</tr>
<tr class="even">
<td></td>
<td>If the shop type is an independent,</td>
</tr>
<tr class="odd">
<td></td>
<td>then the stratum cell is equal to the multiple code + 13</td>
</tr>
</tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Lee.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
